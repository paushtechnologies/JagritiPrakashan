import{l as ne,j as a,e as se,g as ce,r as x,f as de,m as pe,n as N,h as S,o as A,s as U,p as l,i as xe,q as ge,t as I,d as ue,v as fe,w as be,B as w,T as m,P as L,G as $,S as n,b as he,c as ve,D as me}from"./index-1hZ873J2.js";import{S as ye}from"./SEO-Bivr7LG5.js";import{S as R}from"./Stack-CVASjxkB.js";const Ce=ne(a.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function $e(e){return ce("MuiChip",e)}const o=se("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),je=e=>{const{classes:i,disabled:r,size:s,color:d,iconColor:t,onDelete:g,clickable:p,variant:u}=e,h={root:["root",u,r&&"disabled",`size${l(s)}`,`color${l(d)}`,p&&"clickable",p&&`clickableColor${l(d)}`,g&&"deletable",g&&`deletableColor${l(d)}`,`${u}${l(d)}`],label:["label",`label${l(s)}`],avatar:["avatar",`avatar${l(s)}`,`avatarColor${l(d)}`],icon:["icon",`icon${l(s)}`,`iconColor${l(t)}`],deleteIcon:["deleteIcon",`deleteIcon${l(s)}`,`deleteIconColor${l(d)}`,`deleteIcon${l(u)}Color${l(d)}`]};return xe(h,$e,i)},we=U("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:r}=e,{color:s,iconColor:d,clickable:t,onDelete:g,size:p,variant:u}=r;return[{[`& .${o.avatar}`]:i.avatar},{[`& .${o.avatar}`]:i[`avatar${l(p)}`]},{[`& .${o.avatar}`]:i[`avatarColor${l(s)}`]},{[`& .${o.icon}`]:i.icon},{[`& .${o.icon}`]:i[`icon${l(p)}`]},{[`& .${o.icon}`]:i[`iconColor${l(d)}`]},{[`& .${o.deleteIcon}`]:i.deleteIcon},{[`& .${o.deleteIcon}`]:i[`deleteIcon${l(p)}`]},{[`& .${o.deleteIcon}`]:i[`deleteIconColor${l(s)}`]},{[`& .${o.deleteIcon}`]:i[`deleteIcon${l(u)}Color${l(s)}`]},i.root,i[`size${l(p)}`],i[`color${l(s)}`],t&&i.clickable,t&&s!=="default"&&i[`clickableColor${l(s)})`],g&&i.deletable,g&&s!=="default"&&i[`deletableColor${l(s)}`],i[u],i[`${u}${l(s)}`]]}})(ge(({theme:e})=>{const i=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${o.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${o.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:i,fontSize:e.typography.pxToRem(12)},[`& .${o.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${o.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${o.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${o.icon}`]:{marginLeft:5,marginRight:-6},[`& .${o.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${o.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${o.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(I(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${o.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${o.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:i}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${o.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${o.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(I(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${o.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${o.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(I(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${o.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${o.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${o.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${o.avatar}`]:{marginLeft:4},[`& .${o.avatarSmall}`]:{marginLeft:2},[`& .${o.icon}`]:{marginLeft:4},[`& .${o.iconSmall}`]:{marginLeft:2},[`& .${o.deleteIcon}`]:{marginRight:5},[`& .${o.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(I()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.alpha((e.vars||e).palette[r].main,.7)}`,[`&.${o.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${o.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.focusOpacity)},[`& .${o.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),ke=U("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,i)=>{const{ownerState:r}=e,{size:s}=r;return[i.label,i[`label${l(s)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function K(e){return e.key==="Backspace"||e.key==="Delete"}const T=x.forwardRef(function(i,r){const s=de({props:i,name:"MuiChip"}),{avatar:d,className:t,clickable:g,color:p="default",component:u,deleteIcon:h,disabled:y=!1,icon:v,label:k,onClick:b,onDelete:f,onKeyDown:W,onKeyUp:B,size:H="medium",variant:G="filled",tabIndex:Q,skipFocusWhenDisabled:_=!1,slots:q={},slotProps:Y={},...J}=s,X=x.useRef(null),Z=pe(X,r),O=c=>{c.stopPropagation(),f&&f(c)},ee=c=>{c.currentTarget===c.target&&K(c)&&c.preventDefault(),W&&W(c)},ae=c=>{c.currentTarget===c.target&&f&&K(c)&&f(c),B&&B(c)},z=g!==!1&&b?!0:g,P=z||f?N:u||"div",D={...s,component:P,disabled:y,size:H,color:p,iconColor:x.isValidElement(v)&&v.props.color||p,onDelete:!!f,clickable:z,variant:G},j=je(D),te=P===N?{component:u||"div",focusVisibleClassName:j.focusVisible,...f&&{disableRipple:!0}}:{};let E=null;f&&(E=h&&x.isValidElement(h)?x.cloneElement(h,{className:S(h.props.className,j.deleteIcon),onClick:O}):a.jsx(Ce,{className:j.deleteIcon,onClick:O}));let V=null;d&&x.isValidElement(d)&&(V=x.cloneElement(d,{className:S(j.avatar,d.props.className)}));let F=null;v&&x.isValidElement(v)&&(F=x.cloneElement(v,{className:S(j.icon,v.props.className)}));const M={slots:q,slotProps:Y},[oe,re]=A("root",{elementType:we,externalForwardedProps:{...M,...J},ownerState:D,shouldForwardComponentProp:!0,ref:Z,className:S(j.root,t),additionalProps:{disabled:z&&y?!0:void 0,tabIndex:_&&y?-1:Q,...te},getSlotProps:c=>({...c,onClick:C=>{c.onClick?.(C),b?.(C)},onKeyDown:C=>{c.onKeyDown?.(C),ee(C)},onKeyUp:C=>{c.onKeyUp?.(C),ae(C)}})}),[ie,le]=A("label",{elementType:ke,externalForwardedProps:M,ownerState:D,className:j.label});return a.jsxs(oe,{as:P,...re,children:[V||F,a.jsx(ie,{...le,children:k}),E]})}),Se=()=>a.jsx(L,{elevation:3,sx:{p:{xs:2,md:4},mt:{xs:2,md:6},borderRadius:3,background:"linear-gradient(135deg, #fafafa, #fdfdfd)"},children:a.jsxs($,{container:!0,spacing:{xs:2,sm:4},children:[a.jsx($,{item:!0,xs:12,md:4,children:a.jsx(n,{variant:"rectangular",width:"100%",height:420,sx:{borderRadius:2},animation:"wave"})}),a.jsx($,{item:!0,xs:12,md:4,children:a.jsxs(R,{spacing:2,children:[a.jsx(n,{variant:"text",height:60,width:"80%"}),a.jsx(n,{variant:"text",height:40,width:"60%"}),a.jsx(n,{variant:"text",height:30,width:"40%"}),a.jsx(n,{variant:"text",height:80,width:"100%"}),a.jsxs(w,{sx:{display:"flex",gap:1,mt:2},children:[a.jsx(n,{variant:"rectangular",width:100,height:40}),a.jsx(n,{variant:"rectangular",width:140,height:40})]}),a.jsxs(R,{spacing:1,sx:{mt:3},children:[a.jsx(n,{variant:"rounded",width:150,height:32}),a.jsx(n,{variant:"rounded",width:180,height:32}),a.jsx(n,{variant:"rounded",width:120,height:32})]})]})}),a.jsxs($,{item:!0,xs:12,md:4,children:[a.jsx(n,{variant:"text",height:40,width:"40%",sx:{mb:2}}),a.jsx(n,{variant:"text",height:20,width:"100%"}),a.jsx(n,{variant:"text",height:20,width:"100%"}),a.jsx(n,{variant:"text",height:20,width:"95%"}),a.jsx(n,{variant:"text",height:20,width:"100%"}),a.jsx(n,{variant:"text",height:20,width:"90%"})]})]})});function Pe({books:e=[],addToCart:i,loading:r=!1}){const{id:s}=ue(),d=fe();be(d.breakpoints.down("md"));const t=e.find(b=>String(b.id)===String(s)),[g,p]=x.useState(1),[u,h]=x.useState(!1),[y,v]=x.useState(!1);if(x.useEffect(()=>{if(t){h(!1),v(!1);const b=[];t.price>0||b.push("price (invalid/zero)"),t.fullImage||t.image||b.push("image (missing source)"),t.description||b.push("description (missing)"),b.length>0&&console.warn(`[BookDetails Debug] ID ${t.id} | "${t.title}" missing: ${b.join(", ")}`)}},[t]),x.useEffect(()=>{y&&t&&console.warn(`[BookDetails Debug] ID ${t.id} | "${t.title}" image failed to load from source: ${t.fullImage||t.image}`)},[y,t]),r)return a.jsx(Se,{});if(!t)return a.jsx(w,{sx:{mt:20,textAlign:"center"},children:a.jsx(m,{variant:"h5",color:"error",fontWeight:700,children:"पुस्तक नहीं मिली (Book not found)"})});const k=t.fullImage||t.image;return a.jsxs(L,{elevation:4,sx:{p:{xs:2,md:4},mt:{xs:2,md:6},borderRadius:{xs:2,md:4},background:"#ffffff",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.04)"},children:[a.jsx(ye,{title:t.title,description:t.description?t.description.substring(0,150)+"...":`Buy ${t.title} by ${t.author}`,image:k,type:"book"}),a.jsxs($,{container:!0,spacing:{xs:3,md:4},children:[a.jsx($,{item:!0,xs:24,sm:12,md:8,children:a.jsxs(w,{sx:{position:"relative",width:"100%",height:{xs:300,sm:400,md:450},borderRadius:3,overflow:"hidden",bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.08)",transition:"transform 0.3s ease","&:hover":{transform:"translateY(-5px)"}},children:[k&&!y?a.jsx(w,{component:"img",src:k,alt:t.title,onLoad:()=>h(!0),onError:()=>v(!0),sx:{width:"100%",height:"100%",objectFit:"contain",display:u?"block":"none",zIndex:2}}):t.title||t.author?a.jsxs(w,{sx:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:{xs:2,md:5},textAlign:"center",backgroundColor:"#f7f7f7"},children:[a.jsx(m,{variant:"h3",fontWeight:800,sx:{color:"text.primary",textTransform:"uppercase",fontSize:{xs:"1.5rem",sm:"2.5rem",md:"3rem"},lineHeight:1.2,mb:2,display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},children:t.title}),t.author&&a.jsxs(m,{variant:"h5",sx:{fontStyle:"italic",color:"text.secondary",fontSize:{xs:"1rem",sm:"1.5rem"}},children:["लेखक: ",t.author]})]}):a.jsx(n,{variant:"rectangular",animation:"wave",sx:{width:"100%",height:"100%"}}),!u&&!y&&k&&a.jsx(n,{variant:"rectangular",animation:"wave",sx:{position:"absolute",inset:0,zIndex:1}})]})}),a.jsx($,{item:!0,xs:24,sm:12,md:8,children:a.jsxs(R,{spacing:{xs:2.5,md:3},sx:{height:"100%"},children:[a.jsxs(w,{children:[t.title?a.jsx(m,{variant:"h4",component:"h1",fontWeight:900,sx:{color:"#1A1A1A",fontSize:{xs:"1.35rem",sm:"2rem",md:"2.2rem"},lineHeight:1.1,mb:1.5,letterSpacing:-.5},children:t.title}):a.jsx(n,{variant:"text",width:"80%",height:60}),t.title_search&&t.title_search!==t.title&&a.jsx(m,{variant:"h6",color:"text.secondary",sx:{opacity:.7,fontSize:{xs:"1.1rem",sm:"1.2rem"},fontWeight:500},children:t.title_search})]}),t.author?a.jsxs(m,{variant:"subtitle1",sx:{fontStyle:"italic",color:"primary.main",fontWeight:500,fontSize:{xs:"1rem",sm:"1.05rem"}},children:["लेखक: ",t.author]}):a.jsx(n,{variant:"text",width:"40%",height:30}),t.price>0?a.jsxs(m,{variant:"h3",fontWeight:600,sx:{color:"#2E7D32",fontSize:{xs:"1.8rem",sm:"1.9rem",md:"2.4rem"},my:1},children:["₹",t.price]}):a.jsx(n,{variant:"text",width:"30%",height:80}),a.jsxs(L,{elevation:0,sx:{p:{xs:1,md:2},bgcolor:"#f8f9fa",borderRadius:{xs:.5,md:1},border:"1px solid #eee",display:"flex",gap:2,alignItems:"center",flexWrap:"wrap",width:{xs:"100%",sm:"fit-content"}},children:[a.jsx(he,{type:"number",size:"small",label:"Quantity",value:g,inputProps:{min:1,max:999999,style:{textAlign:"center",fontWeight:600}},onChange:b=>{const f=b.target.value;(f===""||parseInt(f)>=1&&parseInt(f)<=999999)&&p(f)},onBlur:()=>{(g===""||parseInt(g)<1)&&p(1)},sx:{width:{xs:100,sm:110},bgcolor:"#fff","& .MuiOutlinedInput-root":{borderRadius:2}}}),a.jsx(ve,{variant:"contained",onClick:()=>i(t.id,parseInt(g)||1),sx:{flexGrow:{xs:1,sm:0},px:{xs:1,sm:5},py:{xs:.8,md:1.2},fontWeight:600,fontSize:"1rem",textTransform:"none",borderRadius:{xs:2,md:2},background:"linear-gradient(135deg, #f0b04f 0%, #ffc870 100%)",boxShadow:"0 6px 15px rgba(240, 176, 79, 0.3)","&:hover":{background:"linear-gradient(135deg, #ffc870 0%, #f0b04f 100%)",transform:"translateY(-2px)",boxShadow:"0 8px 20px rgba(240, 176, 79, 0.4)"},transition:"all 0.3s ease"},children:"Add to Cart"})]}),a.jsxs(R,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,sx:{mt:1},children:[t.category?a.jsx(T,{label:`श्रेणी: ${t.category}`,variant:"outlined",sx:{borderRadius:"8px",fontWeight:600,py:{xs:1,md:2}}}):a.jsx(n,{variant:"rounded",width:100,height:32}),t.publisher?a.jsx(T,{label:`प्रकाशक: ${t.publisher}`,variant:"outlined",sx:{borderRadius:"8px",fontWeight:600,py:{xs:1,md:2}}}):a.jsx(n,{variant:"rounded",width:140,height:32}),t.isbn?a.jsx(T,{label:`ISBN: ${t.isbn}`,variant:"outlined",sx:{borderRadius:"8px",fontWeight:600,py:2}}):a.jsx(n,{variant:"rounded",width:120,height:32})]})]})}),a.jsxs($,{item:!0,xs:24,md:8,children:[a.jsx(me,{sx:{mb:{xs:1.5,md:3},display:{xs:"block",md:"none"}}}),a.jsxs(w,{sx:{height:"100%",borderLeft:{md:"2px solid #f0f0f0"},pl:{md:4}},children:[a.jsx(m,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{textTransform:"uppercase",letterSpacing:1,fontSize:"1.25rem",color:"text.secondary"},children:"विवरण"}),t.description?a.jsx(m,{variant:"body1",sx:{lineHeight:1.8,color:"#444",fontSize:"1rem",whiteSpace:"pre-line",wordBreak:"break-word",overflowWrap:"anywhere",textAlign:"justify"},children:t.description}):a.jsx(n,{variant:"text",height:200,width:"100%",animation:"wave"})]})]})]})]})}export{Pe as default};
