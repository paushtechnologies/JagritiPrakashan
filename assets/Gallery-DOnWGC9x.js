import{n as M,q as S,r as u,t as w,j as e,v as I,d as R,l as k,R as E,B as m,S as g,x as C,T as h,b as z,I as A,w as B}from"./index-W2wGuMJM.js";import{C as y,a as j,D}from"./DialogContent-BpNw1pFi.js";import{D as W}from"./Dialog-C_UDVQd_.js";function N(o){return M("MuiCardMedia",o)}S("MuiCardMedia",["root","media","img"]);const P=o=>{const{classes:r,isMediaComponent:a,isImageComponent:t}=o;return k({root:["root",a&&"media",t&&"img"]},N,r)},T=I("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:a}=o,{isMediaComponent:t,isImageComponent:i}=a;return[r.root,t&&r.media,i&&r.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),O=["video","audio","picture","iframe","img"],U=["picture","img"],F=u.forwardRef(function(r,a){const t=w({props:r,name:"MuiCardMedia"}),{children:i,className:x,component:n="div",image:l,src:p,style:s,...c}=t,d=O.includes(n),v=!d&&l?{backgroundImage:`url("${l}")`,...s}:s,f={...t,component:n,isMediaComponent:d,isImageComponent:U.includes(n)},b=P(f);return e.jsx(T,{className:R(b.root,x),as:n,role:!d&&l?"img":void 0,ref:a,style:v,ownerState:f,src:d?l||p:void 0,...c,children:i})});function q({books:o=[],addToCart:r,loading:a=!1}){const[t,i]=u.useState(null),x=u.useRef(null),n=()=>i(null),[l,p]=E.useState(!1);return e.jsxs(m,{ref:x,sx:{mt:{xs:2,sm:8},mb:{xs:4,sm:8}},children:[e.jsx(m,{sx:{px:{xs:1,sm:0},mt:{xs:1,sm:2},display:"grid",gridTemplateColumns:{xs:"repeat(3, 1fr)",sm:"repeat(3,1fr)",md:"repeat(5,1fr)",lg:"repeat(7,1fr)"},gap:{xs:1,sm:2}},children:a?Array.from(new Array(21)).map((s,c)=>e.jsxs(y,{sx:{width:"100%",height:"100%",borderRadius:{xs:1,sm:2},boxShadow:{xs:2,sm:3}},children:[e.jsx(g,{variant:"rectangular",height:200,animation:"wave"}),e.jsxs(j,{sx:{p:1},children:[e.jsx(g,{variant:"text",width:"60%"}),e.jsx(g,{variant:"rectangular",width:50,height:24,sx:{mt:1}})]})]},c)):o.filter(s=>s.display==="card").map((s,c)=>{const d=s.image||C("assets/covers/placeholder.png");return e.jsxs(y,{sx:{width:"100%",display:"flex",flexDirection:"column",borderRadius:{xs:1,sm:2},boxShadow:{xs:3,sm:6},height:"100%",overflow:"hidden",transition:"transform 0.2s ease-out",willChange:"transform","&:hover":{transform:"translateY(-4px) scale(1.02)"}},children:[e.jsxs(m,{sx:{position:"relative",height:{xs:150,sm:200,md:230},cursor:"pointer",backgroundColor:"#f7f7f7"},onClick:()=>i(s),children:[!l&&e.jsx(F,{component:"img",image:d,alt:s.title,loading:c<21?"eager":"lazy",decoding:"async",fetchPriority:c<21?"high":"auto",onError:()=>p(!0),sx:{height:"100%",objectFit:"cover"}}),l&&e.jsx(m,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",px:1},children:e.jsxs(m,{children:[e.jsx(h,{variant:"body2",sx:{fontWeight:800,textAlign:"center",px:1.5,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.5rem"},textTransform:"uppercase",letterSpacing:1,lineHeight:1.3,display:"-webkit-box",WebkitLineClamp:5,WebkitBoxOrient:"vertical",overflow:"hidden",textShadow:"0 0 10px rgba(255,255,255,0.8)"},children:s.title}),e.jsxs(h,{variant:"subtitle1",sx:{mt:{xs:1,md:3},textAlign:"center",fontStyle:"italic",color:"text.secondary",fontSize:{xs:"0.85rem",sm:"1rem"}},children:["लेखक : ",s.author]})]})})]}),e.jsxs(j,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:{xs:.5,sm:1}},children:[typeof s.price<"u"&&e.jsxs(h,{color:"text.primary",fontWeight:700,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:["₹",s.price]}),e.jsx(z,{variant:"contained",size:"small",onClick:()=>r(s.id),sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},px:{xs:.75,sm:2},py:{xs:.45,sm:.5},minWidth:{xs:40,sm:60},backgroundColor:"#f0b04f","&:hover":{backgroundColor:"#d99a3d"}},children:"Add"})]})]},s.id)})}),e.jsx(W,{open:!!t,onClose:n,maxWidth:"sm",children:e.jsxs(D,{sx:{p:0,position:"relative",bgcolor:"#000",display:"flex",justifyContent:"center"},children:[e.jsx(A,{onClick:n,sx:{position:"absolute",top:8,right:8,zIndex:10,color:"#fff",bgcolor:"rgba(0,0,0,0.5)","&:hover":{bgcolor:"rgba(0,0,0,0.8)"}},children:e.jsx(B,{})}),t&&e.jsx("img",{src:t.fullImage||t.image||C("assets/covers/placeholder.png"),alt:t.title,style:{maxWidth:"100%",maxHeight:"80vh",display:"block",objectFit:"contain"}})]})})]})}export{q as default};
