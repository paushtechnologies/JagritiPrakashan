import{a as u,j as s,B as t,T as r,G as i,D as j,P as f,b as g,L as y}from"./index-W2wGuMJM.js";import{B as x,S as k}from"./BookCard-DV4wQiKt.js";import"./DialogContent-BpNw1pFi.js";import"./Dialog-C_UDVQd_.js";function $({books:m=[],addToCart:l,loading:p=!1}){const c=new URLSearchParams(u().search).get("q")||"",n=c.trim().toLowerCase(),a=n?m.filter(e=>`${e.title} ${e.author||""} ${e.isbn||""} ${e.publisher||""} ${e.category||""} ${e.description||""}`.toLowerCase().includes(n)):[],o=a.filter(e=>e.display==="card"),d=a.filter(e=>e.display==="list");return s.jsxs(t,{sx:{mt:{xs:2,sm:4},mb:4,px:2},children:[s.jsxs(r,{variant:"h5",sx:{mb:2},children:["Search results for “",c,"”"]}),p?s.jsx(i,{container:!0,spacing:2,children:Array.from(new Array(8)).map((e,h)=>s.jsx(i,{item:!0,xs:12,sm:6,md:3,children:s.jsx(x,{loading:!0})},h))}):n===""?s.jsx(r,{children:"Enter a search term in the header to find books."}):a.length===0?s.jsx(r,{children:"No results found."}):s.jsxs(s.Fragment,{children:[o.length>0&&s.jsx(i,{container:!0,spacing:2,sx:{mb:4},children:o.map(e=>s.jsx(i,{item:!0,xs:12,sm:6,md:3,children:s.jsx(x,{book:e,onAddToCart:l})},e.id))}),d.length>0&&s.jsxs(t,{children:[o.length>0&&s.jsx(j,{sx:{my:3}}),s.jsx(k,{spacing:1.5,children:d.map(e=>s.jsxs(f,{variant:"outlined",sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:2},children:[s.jsxs(t,{children:[s.jsx(r,{variant:"subtitle1",fontWeight:700,children:e.title}),e.author&&s.jsx(r,{variant:"caption",color:"text.secondary",children:e.author})]}),s.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.price&&s.jsxs(r,{fontWeight:600,children:["₹",e.price]}),s.jsx(g,{variant:"contained",size:"small",onClick:()=>l(e.id),sx:{bgcolor:"#f0b04f",color:"#fff","&:hover":{bgcolor:"#d99a3d"}},children:"Add"})]})]},e.id))})]})]}),s.jsx(t,{sx:{mt:3},children:s.jsx(y,{to:"/",children:"Back to Home"})})]})}export{$ as default};
