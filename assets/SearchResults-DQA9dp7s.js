import{a as w,R,j as e,B as t,T as i,G as n,D as S,P as C,b as k,L as v}from"./index-DbrkeLs3.js";import{B as u}from"./BookCard-BXLG_Xs5.js";import{S as f}from"./Stack-BY73PP8G.js";import"./DialogContent-DPTNnUKS.js";import"./Dialog-CgG7nTEk.js";function A({books:g=[],addToCart:x,loading:j=!1}){const c=new URLSearchParams(w().search).get("q")||"",o=c.trim().toLowerCase(),a=o?g.filter(s=>`${s.title} ${s.author||""} ${s.isbn||""} ${s.publisher||""} ${s.category||""} ${s.description||""}`.toLowerCase().includes(o)):[],l=a.filter(s=>s.display==="card"),h=a.filter(s=>s.display==="list"),[m,p]=R.useState({}),y=(s,r)=>{(r===""||parseInt(r)>=0&&parseInt(r)<=99999)&&p(d=>({...d,[s]:r}))},b=(s,r)=>{(r===""||parseInt(r)<1)&&p(d=>({...d,[s]:1}))};return e.jsxs(t,{sx:{mt:{xs:2,sm:4},mb:4,px:2},children:[e.jsxs(i,{variant:"h5",sx:{mb:2},children:["Search results for “",c,"”"]}),j?e.jsx(n,{container:!0,spacing:2,children:Array.from(new Array(8)).map((s,r)=>e.jsx(n,{item:!0,xs:12,sm:6,md:3,children:e.jsx(u,{loading:!0})},r))}):o===""?e.jsx(i,{children:"Enter a search term in the header to find books."}):a.length===0?e.jsx(i,{children:"No results found."}):e.jsxs(e.Fragment,{children:[l.length>0&&e.jsx(n,{container:!0,spacing:2,sx:{mb:4},children:l.map(s=>e.jsx(n,{item:!0,xs:12,sm:6,md:3,children:e.jsx(u,{book:s,onAddToCart:x})},s.id))}),h.length>0&&e.jsxs(t,{children:[l.length>0&&e.jsx(S,{sx:{my:3}}),e.jsx(f,{spacing:1.5,children:h.map(s=>e.jsxs(C,{variant:"outlined",sx:{p:2,display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2,borderColor:"primary.main",borderRadius:3,bgcolor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(8px)",border:"1px solid rgba(0,0,0,0.05)",transition:"all 0.3s ease","&:hover":{bgcolor:"#fff",boxShadow:"0 8px 25px rgba(0,0,0,0.05)",borderColor:"primary.main"}},children:[e.jsxs(t,{sx:{flex:1,minWidth:0},children:[e.jsx(i,{variant:"subtitle1",fontWeight:800,sx:{color:"#1a1a1a",fontSize:"1.05rem",lineHeight:1.2,mb:.5},children:s.title}),e.jsxs(f,{direction:{xs:"column",sm:"row"},spacing:{xs:.5,sm:1.5},alignItems:{xs:"flex-start",sm:"center"},children:[s.author&&e.jsxs(i,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:["लेखक: ",s.author]}),s.author&&s.publisher&&e.jsx(t,{sx:{display:{xs:"none",sm:"block"},width:4,height:4,bgcolor:"divider",borderRadius:"50%"}}),s.publisher&&e.jsxs(i,{variant:"body2",color:"text.secondary",sx:{opacity:.8},children:["प्रकाशन: ",s.publisher]})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"space-between",sm:"flex-end"}},children:[s.price&&e.jsxs(i,{fontWeight:800,color:"success.main",sx:{fontSize:"1.2rem",minWidth:"80px"},children:["₹",s.price]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(TextField,{type:"number",size:"small",label:"Qty",value:m[s.id]??1,onChange:r=>y(s.id,r.target.value),onBlur:r=>b(s.id,r.target.value),inputProps:{min:1,max:99999,style:{textAlign:"center",fontWeight:600}},sx:{width:105,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"#fff"}}}),e.jsx(k,{variant:"contained",onClick:()=>x(s.id,parseInt(m[s.id])||1),sx:{bgcolor:"#f0b04f",color:"#fff",fontWeight:800,textTransform:"none",borderRadius:2,px:5,py:1,boxShadow:"0 4px 10px rgba(240, 176, 79, 0.2)","&:hover":{bgcolor:"#d99a3d",boxShadow:"0 6px 15px rgba(240, 176, 79, 0.3)"}},children:"Add"})]})]})]},s.id))})]})]}),e.jsx(t,{sx:{mt:3},children:e.jsx(v,{to:"/",children:"Back to Home"})})]})}export{A as default};
